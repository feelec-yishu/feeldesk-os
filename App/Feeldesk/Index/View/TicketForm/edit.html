<extend name="Public:common"/>

<block name="crumb1">{:L('TICKET_SETTING')}</block>

<block name="content">

    <div class="feeldesk-form pd0">

        <div class="form-nav">

            <ul>

                <li><a href="javascript:" class="form-tab active">{:L('NEW_FORM')}</a></li>

                <li><a href="javascript:" class="intro-tab">{:L('SET_INSTRUCT')}</a></li>

            </ul>

        </div>

        <div class="form-content" style="height:calc(100% - 52px)">

            <form action="{:U('TicketForm/edit',['id'=>encrypt($detail['ticket_form_id'],'TICKETFORM')
            ,'tid'=>encrypt($detail['ticket_model_id'],'TICKETMODEL')])}" class="layui-form" method="post">

                <div class="form-item">

                    <input type="hidden" name="ticket_form[ticket_model_id]" value="{$detail.ticket_model_id|encrypt='TICKETMODEL'}"/>

                    <input type="hidden" name="ticket_form[ticket_form_id]" value="{$detail.ticket_form_id|encrypt='TICKETFORM'}"/>

                    <div class="layui-form-item">

                        <label class="layui-form-label">{:L('FORM_TYPE')}</label>

                        <div class="layui-input-inline">

                            <select name="ticket_form[ticket_form_type]" disabled>

                                <option value="text" <eq name='detail.ticket_form_type' value='text'>selected</eq>>{:L('TEXT')}</option>

                                <option value="textarea" <eq name='detail.ticket_form_type' value='textarea'>selected</eq>>{:L('TEXTAREA')}</option>

                                <option value="radio" <eq name='detail.ticket_form_type' value='radio'>selected</eq>>{:L('RADIO')}</option>

                                <option value="checkbox" <eq name='detail.ticket_form_type' value='checkbox'>selected</eq>>{:L('CHECKBOX')}</option>

                                <option value="select" <eq name='detail.ticket_form_type' value='select'>selected</eq>>{:L('SELECT')}</option>

                                <option value="date" <eq name='detail.ticket_form_type' value='date'>selected</eq>>{:L('DATETIME')}</option>

                            </select>

                        </div>

                    </div>

                    <in name="detail.ticket_form_type" value="radio,checkbox,select">

                        <div class="layui-form-item">

                            <label class="layui-form-label"><span class="red">*</span> {:l('FORM_OPTION')}</label>

                            <div class="layui-input-inline">

                                <input type="text" name="ticket_form[ticket_form_option]" value="{$detail.ticket_form_option}" placeholder={:L('ENTER_OPTION')}" class="layui-input">

                            </div>

                            <i class="layui-icon layui-icon-about form-intro-icon"></i>

                            <div class="hidden ticket-form-intro">

                                <p>1.{:L('FORM_OPTION_NOTE1',['a'=>l('TEXT'),'b'=>l('TEXTAREA'),'c'=>l('SELECT')])}ã€‚</p>

                                <p>2.{:L('FORM_OPTION_NOTE2')}</p>

                                <p>3.{:L('FORM_OPTION_NOTE3')}</p>

                                <p>4.{:L('FORM_OPTION_NOTE4')}</p>

                            </div>

                        </div>

                    </in>

                    <div class="layui-form-item">

                        <label class="layui-form-label"><span class="red">*</span> {:l('FIELD_NAME')}</label>

                        <div class="layui-input-inline">

                            <input type="text" name="ticket_form[ticket_form_name]" value="{$detail.ticket_form_name}" class="layui-input" placeholder="{:L('ENTER_FIELD_NAME')}" />

                        </div>

                        <i class="layui-icon layui-icon-about form-intro-icon"></i>

                        <div class="hidden ticket-form-intro">

                            <p>1.{:L('FIELD_NAME_NOTE1')}</p>

                            <p>2.{:L('FIELD_NAME_NOTE2')}</p>

                            <p>3.{:L('FIELD_NAME_NOTE3')}</p>

                            <p>4.{:L('FIELD_NAME_NOTE4')}</p>

                            <p>5.{:L('FIELD_NAME_NOTE5')}</p>

                        </div>

                    </div>

                    <div class="layui-form-item">

                        <label class="layui-form-label"><span class="red">*</span> {:l('FORM_NAME')}</label>

                        <div class="layui-input-inline">

                            <input type="text" name="ticket_form[ticket_form_description]" value="{$detail.ticket_form_description}" class="layui-input" placeholder="{:L('ENTER_FORM_NAME')}" />

                        </div>

                        <i class="layui-icon layui-icon-about form-intro-icon"></i>

                        <div class="hidden ticket-form-intro">

                            <p>1.{:L('FORM_NAME_NOTE1')}</p>

                            <p>2.{:L('FORM_NAME_NOTE2')}</p>

                            <p>3.{:L('FORM_NAME_NOTE3')}</p>

                        </div>

                    </div>

                    <div class="layui-form-item">

                        <label class="layui-form-label">{:l('FORM_DESCRIPTION')}</label>

                        <div class="layui-input-inline">

                            <input type="text" name="ticket_form[ticket_form_explain]" value="{$detail.ticket_form_explain}" class="layui-input" placeholder="{:l('ENTER_FORM_DESCRIPTION')}" />

                        </div>

                        <i class="layui-icon layui-icon-about form-intro-icon"></i>

                        <div class="hidden ticket-form-intro">{:L('FORM_DESCRIPTION_NOTE1')}</div>

                    </div>

                    <div class="layui-form-item">

                        <label class="layui-form-label">{:l('IS_NOT_REQUIRED')}</label>

                        <div class="layui-input-inline">

                            <select name="ticket_form[is_required]">

                                <option value="0" <eq name='detail.is_required' value='0'>selected="selected"</eq>>{:l('YES')}</option>

                                <option value="1" <eq name='detail.is_required' value='1'>selected="selected"</eq>>{:l('NO')}</option>

                            </select>

                        </div>

                        <i class="layui-icon layui-icon-about form-intro-icon"></i>

                        <div class="hidden ticket-form-intro">{:L('REQUIRED_ENABLE_NOTE1')}</div>

                    </div>

                    <div class="layui-form-item">

                        <label class="layui-form-label">{:L('IS_ENABLE')}</label>

                        <div class="layui-input-inline">

                            <select name="ticket_form[closed]">

                                <option value="0" <eq name='detail.closed' value='0'>selected="selected"</eq>>{:L('ENABLE')}</option>

                                <option value="1" <eq name='detail.closed' value='1'>selected="selected"</eq>>{:L('DISABLE')}</option>

                            </select>

                        </div>

                        <i class="layui-icon layui-icon-about form-intro-icon"></i>

                        <div class="hidden ticket-form-intro">{:L('REQUIRED_ENABLE_NOTE2')}</div>

                    </div>

                    <div class="layui-form-item">

                        <label class="layui-form-label">{:L('SORT')}</label>

                        <div class="layui-input-inline">

                            <input type="text" name="ticket_form[orderby]" id="ticket_form_orderby"  value="{$detail.orderby}" class="layui-input" placeholder="{:l('ENTER_FORM_SORT')}" />

                        </div>

                        <i class="layui-icon layui-icon-about form-intro-icon"></i>

                        <div class="hidden ticket-form-intro">{:L('FORM_SORT_NOTE1')}</div>

                    </div>

                </div>

                <div class="form-submit">

                    <div class="layui-form-item">

                        <div class="layui-input-inline">

                            <a href="javascript:" class="layui-btn layui-btn-normal" id="submitForm">{:L('SUBMIT')}</a>

                            <a href="javascript:history.go(-1)" class="layui-btn layui-btn-normal cancel-btn">{:L('CANCEL')}</a>

                        </div>

                    </div>

                </div>

            </form>

        </div>

        <div class="form-intro hidden">

            <div class="intro-item">

                <div class="intro-title">{:L('FORM_TYPE_STYLE')} <i class="iconfont icon-xiangxiajiantou fr"></i></div>

                <div class="intro-detail layui-form hidden">

                    <div class="intro-form layui-input-block ml0">

                        <input type="text" class="layui-input form-input" placeholder="{:L('TEXT')}" disabled>

                        <select name="xiala" lay-filter="form_type">

                            <option value="">{:L('SELECT')}</option>

                            <option value="">{:L('OPTION',['format'=>'A'])}</option>

                            <option value="">{:L('OPTION',['format'=>'B'])}</option>

                            <option value="">{:L('OPTION',['format'=>'C'])}</option>

                        </select>

                        <textarea class="layui-textarea" disabled>{:L('TEXTAREA_NOTE')}</textarea>

                        <div class="layui-form-item">

                            <label class="layui-form-label pl0">{:L('RADIO')}</label>

                            <div class="layui-input-block ml0">

                                <input type="radio" name="danxuan" title="{:L('OPTION',['format'=>'A'])}"/>

                                <input type="radio" name="danxuan" title="{:L('OPTION',['format'=>'B'])}"/>

                                <input type="radio" name="danxuan" title="{:L('OPTION',['format'=>'C'])}"/>

                            </div>

                        </div>

                        <div class="layui-form-item">

                            <label class="layui-form-label pl0">{:L('CHECKBOX')}</label>

                            <div class="layui-input-block ml0">

                                <input type="checkbox" name="danxuan" title="{:L('OPTION',['format'=>'A'])}" lay-skin="primary" />

                                <input type="checkbox" name="danxuan" title="{:L('OPTION',['format'=>'B'])}" lay-skin="primary" />

                                <input type="checkbox" name="danxuan" title="{:L('OPTION',['format'=>'C'])}" lay-skin="primary" />

                            </div>

                        </div>

                    </div>

                </div>

            </div>

            <div class="intro-item">

                <div class="intro-title">{:L('FORM_OPTION_NOTE')} <i class="iconfont icon-xiangxiajiantou fr"></i></div>

                <div class="intro-detail hidden">

                    <p>1. {:L('FORM_OPTION_NOTE1',['a'=>l('TEXT'),'b'=>l('TEXTAREA'),'c'=>l('SELECT')])}ã€‚</p>

                    <p>2. {:L('FORM_OPTION_NOTE2')}</p>

                    <p>3. {:L('FORM_OPTION_NOTE3')}</p>

                    <p>4. {:L('FORM_OPTION_NOTE4')}</p>

                </div>

            </div>

            <div class="intro-item">

                <div class="intro-title">{:L('FIELD_NAME_NOTE')} <i class="iconfont icon-xiangxiajiantou fr"></i></div>

                <div class="intro-detail hidden">

                    <p>1. {:L('FIELD_NAME_NOTE1')}</p>

                    <p>2. {:L('FIELD_NAME_NOTE2')}</p>

                    <p>3. {:L('FIELD_NAME_NOTE3')}</p>

                    <p>4. {:L('FIELD_NAME_NOTE4')}</p>

                    <p>5. {:L('FIELD_NAME_NOTE5')}</p>

                </div>

            </div>

            <div class="intro-item">

                <div class="intro-title">{:L('FORM_NAME_NOTE')} <i class="iconfont icon-xiangxiajiantou fr"></i></div>

                <div class="intro-detail hidden">

                    <p>1. {:L('FORM_NAME_NOTE1')}</p>

                    <p>2. {:L('FORM_NAME_NOTE2')}</p>

                    <p>3. {:L('FORM_NAME_NOTE3')}</p>

                </div>

            </div>

            <div class="intro-item">

                <div class="intro-title">{:L('FORM_DESCRIPTION_NOTE')} <i class="iconfont icon-xiangxiajiantou fr"></i></div>

                <div class="intro-detail hidden">

                    <p>{:L('FORM_DESCRIPTION_NOTE1')}</p>

                </div>

            </div>

            <div class="intro-item">

                <div class="intro-title">{:L('REQUIRED_ENABLE_NOTE')} <i class="iconfont icon-xiangxiajiantou fr"></i></div>

                <div class="intro-detail hidden">

                    <p>1. {:L('REQUIRED_ENABLE_NOTE1')}</p>

                    <p>2. {:L('REQUIRED_ENABLE_NOTE2')}</p>

                </div>

            </div>

            <div class="intro-item">

                <div class="intro-title">{:L('FORM_SORT_NOTE')} <i class="iconfont icon-xiangxiajiantou fr"></i></div>

                <div class="intro-detail hidden">

                    <p>1. {:L('FORM_SORT_NOTE1')} </p>

                </div>

            </div>

        </div>

    </div>

    <include file="Public:language" />

    <script type="text/javascript">

        $(function()
        {
            $(".form-tab").on('click',function()
            {
                if(!$(this).hasClass('active'))
                {
                    $(this).addClass('active');

                    $('.form-content').removeClass('hidden');

                    $(".intro-tab,.form-intro").addClass('hidden').removeClass('active');
                }
            });

            $(".intro-tab").on('click',function()
            {
                if(!$(this).hasClass('active'))
                {
                    $(this).addClass('active');

                    $('.form-intro').removeClass('hidden');

                    $('.form-tab,.form-content').addClass('hidden').removeClass('active');
                }
            });

            $(".intro-title").on('click',function()
            {
                $(this).next('.intro-detail').slideToggle().parent('.intro-item').toggleClass('active');

                if($(this).find('i').hasClass('icon-xiangxiajiantou'))
                {
                    $(this).find('i').removeClass('icon-xiangxiajiantou').addClass('icon-upward');
                }
                else
                {
                    $(this).find('i').removeClass('icon-upward').addClass('icon-xiangxiajiantou');
                }
            });
        })

    </script>

</block>